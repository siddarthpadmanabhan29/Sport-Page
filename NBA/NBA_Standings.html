<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NBA Standings</title>
    <link rel="stylesheet" type="text/css" href="../assets/css/sports.css">
    <script defer src="../darkmode.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }

        .nfl-table {
            width: 90%;
            border-collapse: collapse;
            margin: 30px auto;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .nfl-header {
            background-color: #333;
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
        }

        .nfl-cell {
            padding: 15px;
            text-align: center;
            border: 1px solid #ccc;
            font-size: 1em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background-color: #f9f9f9;
            transition: background-color 0.3s;
        }

        .nfl-cell:hover {
            background-color: #e0f00f;
            cursor: pointer;
        }

        .team-logo {
            width: 36px;
            height: 36px;
            border-radius: 4px;
            object-fit: contain;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .positive {
            color: green;
        }

        .negative {
            color: red;
        }

        th {
            background-color: #333;
            color: white;
            padding: 10px;
            font-weight: bold;
        }

        td {
            padding: 12px;
            border: 1px solid #ccc;
        }

        .division-header {
            background-color: #444;
            color: white;
            font-size: 1.2em;
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }

        h1 {
            text-align: center;
        }

        .bar {
            margin: 10px auto;
            text-align: center;
        }
    </style>
</head>
<body>
<h1 class="logo">Sports Entertainment</h1>
<hr>

<div class="bar">
    <a href="../index.html">Home</a>

    <div class="dropdown">
        <button class="dropbtn">NFL</button>
        <div class="dropdown-content">
            <a href="../NFL/NFL_Teams.html">Teams</a>
            <a href="../NFL/NFL_Schedule.html">Schedule</a>
            <a href="../NFL/NFL_Standings.html">Standings</a>
            <a href="../NFL/NFL_Playoffs.html">Playoffs</a>
            <a href="">News</a>
        </div>
    </div>

    <div class="dropdown">
        <button class="dropbtn">NBA</button>
        <div class="dropdown-content">
            <a href="NBA_Teams.html">Teams</a>
            <a href="NBA_Schedule.html">Schedule</a>
            <a href="NBA_Standings.html">Standings</a>
            <a href="">News</a>
        </div>
    </div>

    <div class="dropdown">
        <button class="dropbtn">MLB</button>
        <div class="dropdown-content">
            <a href="../MLB/MLB_Teams.html">Teams</a>
            <a href="../MLB/MLB_Schedule.html">Schedule</a>
            <a href="../MLB/MLB_Standings.html">Standings</a>
            <a href="">News</a>
        </div>
    </div>

    <div class="dropdown">
        <button class="dropbtn">IPL</button>
        <div class="dropdown-content">
            <a href="../IPL/IPL_Teams.html">Teams</a>
            <a href="../IPL/IPL_Schedule.html">Schedule</a>
            <a href="../IPL/IPL_Standings.html">Standings</a>
            <a href="">News</a>
        </div>
    </div>

    <div class="dropdown">
        <button class="dropbtn">Tennis</button>
        <div class="dropdown-content">
            <a href="">Schedule</a>
            <a href="">Rankings</a>
            <a href="">Grand Slams</a>
        </div>
    </div>
</div>

<p>
    Select Season:
    <select id="season-select">
        <option value="2025-26">2025-2026</option>
        <option value="2024-25">2024-2025</option>
    </select>
</p>

<div id="standings-container"></div>

<script>
const nflData = {
            "2024-25": {
            "Atlantic": [
                {
                    team: "Boston Celtics",
                    logo: "https://cdn.nba.com/logos/nba/1610612738/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Brooklyn Nets",
                    logo: "https://cdn.nba.com/logos/nba/1610612751/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "New York Knicks",
                    logo: "https://cdn.nba.com/logos/nba/1610612752/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Philadelphia 76ers",
                    logo: "https://cdn.nba.com/logos/nba/1610612755/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Toronto Raptors",
                    logo: "https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Central": [
                {
                    team: "Chicago Bulls",
                    logo: "https://cdn.nba.com/logos/nba/1610612741/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Cleveland Cavaliers",
                    logo: "https://cdn.nba.com/logos/nba/1610612739/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Detroit Pistons",
                    logo: "https://cdn.nba.com/logos/nba/1610612765/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Indiana Pacers",
                    logo: "https://cdn.nba.com/logos/nba/1610612754/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Milwaukee Bucks",
                    logo: "https://cdn.nba.com/logos/nba/1610612749/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Southeast": [
                {
                    team: "Atlanta Hawks",
                    logo: "https://cdn.nba.com/logos/nba/1610612737/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Charlotte Hornets",
                    logo: "https://cdn.nba.com/logos/nba/1610612766/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Miami Heat",
                    logo: "https://cdn.nba.com/logos/nba/1610612748/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Orlando Magic",
                    logo: "https://cdn.nba.com/logos/nba/1610612753/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Washington Wizards",
                    logo: "https://cdn.nba.com/logos/nba/1610612764/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Northwest": [
                {
                    team: "Denver Nuggets",
                    logo: "https://cdn.nba.com/logos/nba/1610612743/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Minnesota Timberwolves",
                    logo: "https://cdn.nba.com/logos/nba/1610612750/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Oklahoma City Thunder",
                    logo: "https://cdn.nba.com/logos/nba/1610612760/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Portland Trail Blazers",
                    logo: "https://cdn.nba.com/logos/nba/1610612757/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Utah Jazz",
                    logo: "https://cdn.nba.com/logos/nba/1610612762/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Pacific": [
                {
                    team: "Golden State Warriors",
                    logo: "https://cdn.nba.com/logos/nba/1610612744/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Los Angeles Clippers",
                    logo: "https://cdn.nba.com/logos/nba/1610612746/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Los Angeles Lakers",
                    logo: "https://cdn.nba.com/logos/nba/1610612747/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Phoenix Suns",
                    logo: "https://cdn.nba.com/logos/nba/1610612756/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Sacramento Kings",
                    logo: "https://cdn.nba.com/logos/nba/1610612758/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Southwest": [
                {
                    team: "Dallas Mavericks",
                    logo: "https://cdn.nba.com/logos/nba/1610612742/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Houston Rockets",
                    logo: "https://cdn.nba.com/logos/nba/1610612745/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Memphis Grizzlies",
                    logo: "https://cdn.nba.com/logos/nba/1610612763/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "New Orleans Pelicans",
                    logo: " https://cdn.nba.com/logos/nba/1610612740/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "San Antonio Spurs",
                    logo: "https://cdn.nba.com/logos/nba/1610612759/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }                
                
            ]

        },
        "2025-26": {
            "Atlantic": [
                {
                    team: "Boston Celtics",
                    logo: "https://cdn.nba.com/logos/nba/1610612738/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Brooklyn Nets",
                    logo: "https://cdn.nba.com/logos/nba/1610612751/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "New York Knicks",
                    logo: "https://cdn.nba.com/logos/nba/1610612752/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Philadelphia 76ers",
                    logo: "https://cdn.nba.com/logos/nba/1610612755/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Toronto Raptors",
                    logo: "https://cdn.nba.com/logos/nba/1610612761/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Central": [
                {
                    team: "Chicago Bulls",
                    logo: "https://cdn.nba.com/logos/nba/1610612741/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Cleveland Cavaliers",
                    logo: "https://cdn.nba.com/logos/nba/1610612739/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Detroit Pistons",
                    logo: "https://cdn.nba.com/logos/nba/1610612765/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Indiana Pacers",
                    logo: "https://cdn.nba.com/logos/nba/1610612754/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Milwaukee Bucks",
                    logo: "https://cdn.nba.com/logos/nba/1610612749/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Southeast": [
                {
                    team: "Atlanta Hawks",
                    logo: "https://cdn.nba.com/logos/nba/1610612737/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Charlotte Hornets",
                    logo: "https://cdn.nba.com/logos/nba/1610612766/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Miami Heat",
                    logo: "https://cdn.nba.com/logos/nba/1610612748/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Orlando Magic",
                    logo: "https://cdn.nba.com/logos/nba/1610612753/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Washington Wizards",
                    logo: "https://cdn.nba.com/logos/nba/1610612764/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Northwest": [
                {
                    team: "Denver Nuggets",
                    logo: "https://cdn.nba.com/logos/nba/1610612743/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Minnesota Timberwolves",
                    logo: "https://cdn.nba.com/logos/nba/1610612750/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Oklahoma City Thunder",
                    logo: "https://cdn.nba.com/logos/nba/1610612760/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Portland Trail Blazers",
                    logo: "https://cdn.nba.com/logos/nba/1610612757/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Utah Jazz",
                    logo: "https://cdn.nba.com/logos/nba/1610612762/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Pacific": [
                {
                    team: "Golden State Warriors",
                    logo: "https://cdn.nba.com/logos/nba/1610612744/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Los Angeles Clippers",
                    logo: "https://cdn.nba.com/logos/nba/1610612746/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Los Angeles Lakers",
                    logo: "https://cdn.nba.com/logos/nba/1610612747/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Phoenix Suns",
                    logo: "https://cdn.nba.com/logos/nba/1610612756/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Sacramento Kings",
                    logo: "https://cdn.nba.com/logos/nba/1610612758/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }
                
            ],
            "Southwest": [
                {
                    team: "Dallas Mavericks",
                    logo: "https://cdn.nba.com/logos/nba/1610612742/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Houston Rockets",
                    logo: "https://cdn.nba.com/logos/nba/1610612745/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "Memphis Grizzlies",
                    logo: "https://cdn.nba.com/logos/nba/1610612763/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "New Orleans Pelicans",
                    logo: " https://cdn.nba.com/logos/nba/1610612740/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                },
                {
                    team: "San Antonio Spurs",
                    logo: "https://cdn.nba.com/logos/nba/1610612759/primary/L/logo.svg",
                    w: 0, l: 0, t: 0, home: "0-0", away: "0-0",
                    div: "0-0", conf: "0-0", pf: 0, pa: 0, streak: "N/A", lastGames: []
                }                
                
            ]
                
        }
    };

const container = document.getElementById("standings-container");
const seasonSelect = document.getElementById("season-select");

function calcPct(w, l) {
    return w + l === 0 ? "0.000" : (w / (w + l)).toFixed(3);
}

function calcL10(team) {
    const last10 = team.lastGames.slice(-10); // get last 10 games
    const wins = last10.filter(g => g === "W").length;
    const losses = last10.filter(g => g === "L").length;
    return `${wins}-${losses}`;
}

function calcStreak(lastGames) {
    if (lastGames.length === 0) return "N/A";
    let result = lastGames[lastGames.length - 1];
    let count = 1;
    for (let i = lastGames.length - 2; i >= 0; i--) {
        if (lastGames[i] === result) count++;
        else break;
    }
    return result + count;
}


function addGame(team, result) {
    // result is "W" or "L"
    team.lastGames.push(result);
    
    // Update total W/L
    team.w = team.lastGames.filter(g => g === "W").length;
    team.l = team.lastGames.filter(g => g === "L").length;

    // Update streak
    let streakCount = 1;
    for (let i = team.lastGames.length - 2; i >= 0; i--) {
        if (team.lastGames[i] === result) streakCount++;
        else break;
    }
    team.streak = result + streakCount;

    // pct stays same as before
    team.pct = calcPct(team.w, team.l);
}



function renderTables(season) {
    const nflSeasons = nflData[season];
    container.innerHTML = "";

    for (const [division, teams] of Object.entries(nflSeasons)) {
        // Calculate pct, diff, L10
        teams.forEach(team => {
            team.pct = calcPct(team.w, team.l);
            team.diff = team.pf - team.pa;
            team.l10 = calcL10(team);
        });

        teams.sort((a, b) => parseFloat(b.pct) - parseFloat(a.pct));

        const first = teams[0];
        teams.forEach(team => {
            team.gb = team === first ? "-" : (((first.w - team.w) + (team.l - first.l)) / 2).toFixed(1);
        });

        const table = document.createElement("table");
        table.className = "nfl-table";

        const divHeaderRow = document.createElement("tr");
        const divHeaderCell = document.createElement("td");
        divHeaderCell.colSpan = 13;
        divHeaderCell.className = "division-header";
        divHeaderCell.textContent = division;
        divHeaderRow.appendChild(divHeaderCell);
        table.appendChild(divHeaderRow);

        const headerRow = document.createElement("tr");
        const headers = ["Team", "W", "L", "Pct", "GB", "L10", "HOME", "AWAY", "CONF", "DIV", "STRK"];
        headers.forEach(header => {
            const th = document.createElement("th");
            th.textContent = header;
            headerRow.appendChild(th);
        });
        table.appendChild(headerRow);

        teams.forEach(team => {
            const row = document.createElement("tr");

            const teamCell = document.createElement("td");
            teamCell.className = "nfl-cell";
            const logoImg = document.createElement("img");
            logoImg.src = team.logo;
            logoImg.alt = team.team + " logo";
            logoImg.className = "team-logo";
            const teamName = document.createElement("span");
            teamName.textContent = team.team;
            teamCell.appendChild(logoImg);
            teamCell.appendChild(teamName);
            row.appendChild(teamCell);

            const fields = ["w", "l", "pct", "gb", "l10", "home", "away", "conf", "div", "streak"];
            fields.forEach(field => {
                const td = document.createElement("td");
                if (field === "gb") td.textContent = team.gb;
                else if (field === "pct") td.textContent = team.pct;
                else if (field === "l10") td.textContent = calcL10(team);
                else if (["w", "l", "pf", "pa"].includes(field)) {
                    td.contentEditable = true;
                    td.textContent = team[field] || 0;
                    td.addEventListener("input", () => {
                        let newVal = parseInt(td.textContent) || 0;

                        if (field === "w") {
                            const oldW = team.lastGames.filter(g => g === "W").length;
                            const diff = newVal - oldW;
                            if (diff > 0) {
                                for (let i = 0; i < diff; i++) team.lastGames.push("W");
                            } else if (diff < 0) {
                                // remove 'W' from the end
                                for (let i = 0; i < -diff; i++) {
                                    const idx = team.lastGames.lastIndexOf("W");
                                    if (idx !== -1) team.lastGames.splice(idx, 1);
                                }
                            }
                        } else if (field === "l") {
                            const oldL = team.lastGames.filter(g => g === "L").length;
                            const diff = newVal - oldL;
                            if (diff > 0) {
                                for (let i = 0; i < diff; i++) team.lastGames.push("L");
                            } else if (diff < 0) {
                                // remove 'L' from the end
                                for (let i = 0; i < -diff; i++) {
                                    const idx = team.lastGames.lastIndexOf("L");
                                    if (idx !== -1) team.lastGames.splice(idx, 1);
                                }
                            }
                        }

                        team.w = team.lastGames.filter(g => g === "W").length;
                        team.l = team.lastGames.filter(g => g === "L").length;
                        team.streak = calcStreak(team.lastGames);

                        team.pct = calcPct(team.w, team.l);
                        team.diff = team.pf - team.pa;
                        team.l10 = calcL10(team);

                        renderTables(seasonSelect.value);
                    });

                } else td.textContent = team[field] || "";
                row.appendChild(td);
            });

            table.appendChild(row);
        });

        container.appendChild(table);
    }
}

const defaultSeason = Object.keys(nflData).sort().pop();
seasonSelect.value = defaultSeason;
renderTables(defaultSeason);

seasonSelect.addEventListener("change", () => {
    renderTables(seasonSelect.value);
});
</script>

<button id="darkModeToggle">ðŸŒ™</button>

</body>
</html>
